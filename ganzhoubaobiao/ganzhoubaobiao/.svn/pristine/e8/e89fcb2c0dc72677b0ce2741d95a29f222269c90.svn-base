{"version":3,"sources":["webpack:///./src/components/program_flow/Edit.vue","webpack:///./src/components/program_flow/Edit.vue?ee53","webpack:///./src/components/program_flow/Edit.vue?ab91"],"names":["program_flow_Edit","data","id","sessionStorage","getItem","options","title","tableData","filters","handlerUpperCase","value","val","toString","newchar","i","length","char","charAt","search","replace","indexOf","substr","lastIndexOf","computed","totalMoney","JSON","parse","stringify_default","this","map","item","cost","reduce","acc","current","parseInt","mounted","_this","$nextTick","getSpanArr","queryAllProcedureById","methods","_spanArr","push","_pos","arraySpanMethod","_ref","row","rowIndex","column","columnIndex","_row","rowspan","colspan","hasChild","isChild","addItem","type","arguments","undefined","form","order","procedure","childProcedure","name","material","timeLimit","remarks","_ids","hk","forEach","some","c","record","getAllSame","splice","deleteItem","index","pre","finishSave","_this2","$message","showClose","message","$post","then","m","resultCode","resultDesc","$router","path","_this3","content","procedureList","pid","indexx","aliasName","department","remark","components_program_flow_Edit","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","gutter","span","label-width","label","model","callback","$$v","expression","_v","offset","on","click","$event","staticStyle","width","height","span-method","align","min-width","scopedSlots","_u","key","fn","ref","_s","_f","placeholder","autosize","minRows","$set","controls","min","$index","effect","placement","icon","_e","plain","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/26.b69f0deefc90adf2e56f.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  data() {\r\n    return {\r\n    \tid: sessionStorage.getItem(\"ViewEditID\"), //查看或修改操作 参数id\r\n      options: [],\r\n      title: '', //程序流程标题\r\n      tableData: [],\r\n    }\r\n  },\r\n\r\n  filters: {\r\n    //转换序号为大写中文\r\n    handlerUpperCase(value) {\r\n      if( value === '' ) return '';\r\n      let val = value.toString();\r\n      let newchar = '';\r\n      for( let i = val.length - 1; i>=0; i-- ) {\r\n        if( val.length > 4 ) return '';\r\n        let char = '';\r\n        let perchar = val.charAt(i);\r\n\r\n        switch (perchar) {\r\n          case \"0\": char = \"零\" + char; break;\r\n          case \"1\": char = \"一\" + char; break;\r\n          case \"2\": char = \"二\" + char; break;\r\n          case \"3\": char = \"三\" + char; break;\r\n          case \"4\": char = \"四\" + char; break;\r\n          case \"5\": char = \"五\" + char; break;\r\n          case \"6\": char = \"六\" + char; break;\r\n          case \"7\": char = \"七\" + char; break;\r\n          case \"8\": char = \"八\" + char; break;\r\n          case \"9\": char = \"九\" + char; break;\r\n        }\r\n\r\n        switch ( val.length - i - 1 ) {\r\n          case 0: char = char; break;\r\n          case 1: if( char != 0 ) char = char + \"十\"; break;\r\n          case 2: if( char != 0 ) char = char + \"百\"; break;\r\n          case 3: if( char != 0 ) char = char + \"千\"; break;\r\n        }\r\n\r\n        newchar = char + newchar;\r\n      }\r\n\r\n      while( newchar.search(\"零零\") != -1 ) {\r\n        newchar = newchar.replace(\"零零\", \"零\");\r\n      }\r\n\r\n      if( newchar.indexOf(\"一十\") === 0 ) {\r\n        newchar = newchar.substr(1);\r\n      }\r\n\r\n      if( newchar.lastIndexOf(\"零\") === newchar.length - 1 ) {\r\n        newchar = newchar.substr(0, newchar.length - 1);\r\n      }\r\n      return newchar + \"、\";\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    totalMoney() {\r\n      let data = JSON.parse(JSON.stringify(this.tableData));\r\n      let costArr = data.map( item => item.cost );\r\n      return costArr.reduce((acc, current) => parseInt(acc) + parseInt(current), 0);\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.getSpanArr(this.tableData);\r\n      if(!!this.id) {\r\n      \tthis.queryAllProcedureById();\r\n//    \tsessionStorage.removeItem(\"ViewEditID\");\r\n      }\r\n    })\r\n  },\r\n\r\n  methods: {\r\n    //合并单元格统计\r\n    getSpanArr(data) {\r\n      this._spanArr = [];\r\n      for (var i = 0; i < data.length; i++) {\r\n        if (i === 0) {\r\n          this._spanArr.push(1);\r\n          this._pos = 0;\r\n        } else {\r\n          // 判断当前元素与上一个元素是否相同\r\n          if (data[i].id === data[i - 1].id) {\r\n            this._spanArr[this._pos] += 1;\r\n            this._spanArr.push(0);\r\n          } else {\r\n            this._spanArr.push(1);\r\n            this._pos = i;\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    //合并单元格\r\n    arraySpanMethod({ row, column, rowIndex, columnIndex }) {\r\n      if( !this.tableData.length ) {\r\n        return [1, 1]\r\n      }\r\n\r\n      if ( columnIndex === 0 ) {\r\n        const _row = this._spanArr[rowIndex];\r\n        const _col = _row > 0 ? ( !!row.hasChild ? 1 : 2 ) : 0;\r\n        return {\r\n          rowspan: _row,\r\n          colspan: _col\r\n        };\r\n      }\r\n      \r\n      if( columnIndex === 1 && !row.isChild && !row.hasChild ) {\r\n        return [1, 0]\r\n      }\r\n\r\n    },\r\n\r\n    addItem(type, row = {}, index = 0) {\r\n      let form = {\r\n            order: '',\r\n            procedure: '',\r\n            childProcedure: '',\r\n            name: '',\r\n            material: '',\r\n            timeLimit: '',\r\n            cost: '',\r\n            remarks: '',\r\n            isChild: false,\r\n            hasChild: false,\r\n          };\r\n\r\n      if( type === 1 ) {\r\n        if( this._ids === undefined ) this._ids = 999;\r\n        form.id = this._ids++;\r\n        let hk = [];\r\n        this.tableData.forEach((item) => {\r\n        \tif(!hk.some( c => c == item.id)) {\r\n        \t\thk.push(item.id);\r\n        \t}\r\n        })\r\n        form.order = hk.length + 1;\r\n        this.tableData.push(form);\r\n      }\r\n\r\n      if( type === 2 ) {\r\n        form.id = row.id;\r\n        form.isChild = true;\r\n        row.hasChild = true;\r\n        let record = this.getAllSame(row);\r\n        this.tableData.splice(record[record.length - 1] + 1, 0, form)\r\n      }\r\n      this.getSpanArr(this.tableData);\r\n\r\n    },\r\n\r\n    deleteItem(row, index) {\r\n      if( !!row.isChild ) {\r\n        //删除子项\r\n        let pre = this.tableData[index - 1];\r\n        if( !!pre.hasChild ) {\r\n        \tpre.hasChild = false;\r\n        }\r\n        this.tableData.splice(index, 1);\r\n      }else {\r\n        //删除父项\r\n        let record = this.getAllSame(row);\r\n        this.tableData.splice(record[0], record.length);\r\n      }\r\n      \r\n      this.getSpanArr(this.tableData);\r\n    },\r\n\r\n    getAllSame(row) {\r\n      let record = [];\r\n      this.tableData.forEach(( item, index) => {\r\n        if( item.id === row.id ) {\r\n          record.push(index);\r\n        }\r\n      })\r\n      return record;\r\n    },\r\n    //最终保存\r\n    finishSave() {\r\n    \tif(!!!this.title) {\r\n    \t\treturn this.$message({\r\n    \t\t\tshowClose: true,\r\n\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\tmessage: '请输入项目类型标题！'\r\n\t\t\t\t});\r\n    \t}\r\n    \tif(this.tableData.length < 1) {\r\n    \t\treturn this.$message({\r\n    \t\t\tshowClose: true,\r\n\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\tmessage: '请添加程序流程后再执行保存操作！'\r\n\t\t\t\t});\r\n    \t}\r\n    \tthis.$post('/web/createProcedure', {'procedure': JSON.stringify(this.tableData), 'name': this.title, 'id': this.id}).then((m) => {\r\n    \t\tif(m.resultCode == -1) {\r\n    \t\t\tthis.$message({\r\n\t    \t\t\tshowClose: true,\r\n\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t\tmessage: m.resultDesc\r\n\t\t\t\t\t});\r\n    \t\t}else{\r\n    \t\t\tthis.$message({\r\n\t    \t\t\tshowClose: true,\r\n\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\tmessage: '操作成功！'\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.$router.push({ path: '/ProgramFlow' });\r\n    \t\t}\r\n\t\t\t})\r\n    },\r\n\t\tqueryAllProcedureById() {\r\n\t\t\tthis.$post('/admin/queryAllProcedureById', {'id': this.id}).then((m) => {\r\n\t\t\t\tthis.title = m.content.name;\r\n\t\t\t\tlet procedureList = m.content.procedureList;\r\n\t\t\t\tthis.tableData = [];\r\n\t\t\t\tlet pid = '';\r\n\t\t\t\tlet order = 1;\r\n\t\t\t\tprocedureList.forEach((item, index) => {\r\n\t\t\t\t\tlet indexx = {};\r\n\t\t\t\t\tif(!!!item.pid) { //pid为空说明为多层的父节点或单层\r\n\t\t\t\t\t\tpid = item.id;\r\n\t\t\t\t\t\tindexx.id = item.id;\r\n\t\t\t\t\t\tindexx.procedure = item.name;\r\n\t\t\t\t\t\tindexx.childProcedure = item.aliasName;\r\n\t\t\t\t\t\tindexx.name = item.department;\r\n\t\t\t\t\t\tindexx.material = item.material;\r\n\t\t\t\t\t\tindexx.timeLimit = item.timeLimit;\r\n\t\t\t\t\t\tindexx.cost = item.cost;\r\n\t\t\t\t\t\tindexx.order = order++;\r\n\t\t\t\t\t\tindexx.remarks = item.remark;\r\n\t\t\t\t\t\tindexx.hasChild = true;\r\n\t\t\t\t\t\tindexx.isChild = false;\r\n\t\t\t\t\t\tthis.tableData.push(indexx);\r\n\t\t\t\t\t}else{ //pid非空\r\n\t\t\t\t\t\t\tindexx.id = pid;\r\n\t\t\t\t\t\t\tindexx.procedure = item.name;\r\n\t\t\t\t\t\t\tindexx.childProcedure = item.aliasName;\r\n\t\t\t\t\t\t\tindexx.name = item.department;\r\n\t\t\t\t\t\t\tindexx.material = item.material;\r\n\t\t\t\t\t\t\tindexx.timeLimit = item.timeLimit;\r\n\t\t\t\t\t\t\tindexx.cost = item.cost;\r\n\t\t\t\t\t\t\tindexx.order = \"\";\r\n\t\t\t\t\t\t\tindexx.remarks = item.remark;\r\n\t\t\t\t\t\t\tindexx.hasChild = false;\r\n\t\t\t\t\t\t\tindexx.isChild = true;\r\n\t\t\t\t\t\t\tthis.tableData.push(indexx);\r\n\t\t\t\t\t}\r\n//\t\t\t\t\tprocedureList.forEach((item1, index1) => {\r\n//\t\t\t\t\t\t\tif(item.id === item1.pid) {\r\n//\t\t\t\t\t\t\t\tindexx.hasChild = true;\r\n//\t\t\t\t\t\t\t\tthis.tableData.push(indexx);\r\n//\t\t\t\t\t\t\t\tlet obj = {};\r\n//\t\t\t\t\t\t\t\tobj.id = item.id;\r\n//\t\t\t\t\t\t\t\tobj.procedure = item.name;\r\n//\t\t\t\t\t\t\t\tobj.childProcedure = item.aliasName;\r\n//\t\t\t\t\t\t\t\tobj.name = item.department;\r\n//\t\t\t\t\t\t\t\tobj.material = item.material;\r\n//\t\t\t\t\t\t\t\tobj.timeLimit = item.timeLimit;\r\n//\t\t\t\t\t\t\t\tobj.cost = item.cost;\r\n//\t\t\t\t\t\t\t\tobj.remarks = item.remark;\r\n//\t\t\t\t\t\t\t\tobj.hasChild = false;\r\n//\t\t\t\t\t\t\t\tobj.isChild = true;\r\n//\t\t\t\t\t\t\t\tthis.tableData.push(obj);\r\n//\t\t\t\t\t\t\t}\r\n//\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\tthis.getSpanArr(this.tableData);\r\n\t\t\t})\r\n\t\t}\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/program_flow/Edit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"program-flow__add\"},[_c('el-row',{attrs:{\"gutter\":10}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form',{attrs:{\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"项目类型标题\"}},[_c('el-input',{model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}})],1)],1)],1),_vm._v(\" \"),_c('el-col',{staticClass:\"text-right\",attrs:{\"span\":4,\"offset\":8}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addItem(1)}}},[_vm._v(\"添加项\")])],1)],1),_vm._v(\" \"),_c('el-table',{staticClass:\"display-second-th margin-bottom__small\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"height\":\"500\",\"span-method\":_vm.arraySpanMethod}},[_c('el-table-column',{attrs:{\"label\":\"办理程序\",\"align\":\"center\",\"min-width\":\"130\"}},[_c('el-table-column',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('div',{staticClass:\"number-order__wrape\"},[_c('label',{staticClass:\"number-order__label\"},[_vm._v(_vm._s(_vm._f(\"handlerUpperCase\")(row.order)))]),_vm._v(\" \"),_c('div',{staticClass:\"number-order__content\"},[_c('el-input',{staticClass:\"default-textarea\",attrs:{\"type\":\"textarea\",\"placeholder\":\"办理程序\",\"autosize\":{ minRows: 4 }},model:{value:(row.procedure),callback:function ($$v) {_vm.$set(row, \"procedure\", $$v)},expression:\"row.procedure\"}})],1)])]}}])}),_vm._v(\" \"),_c('el-table-column',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('el-input',{staticClass:\"default-textarea\",attrs:{\"type\":\"textarea\",\"placeholder\":\"办理程序\",\"autosize\":\"\"},model:{value:(row.childProcedure),callback:function ($$v) {_vm.$set(row, \"childProcedure\", $$v)},expression:\"row.childProcedure\"}})]}}])})],1),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"办理部门\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('el-input',{staticClass:\"default-textarea\",attrs:{\"type\":\"textarea\",\"placeholder\":\"办理部门\",\"autosize\":\"\"},model:{value:(row.name),callback:function ($$v) {_vm.$set(row, \"name\", $$v)},expression:\"row.name\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"需提交的材料\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('el-input',{staticClass:\"default-textarea\",attrs:{\"type\":\"textarea\",\"placeholder\":\"材料\",\"autosize\":\"\"},model:{value:(row.material),callback:function ($$v) {_vm.$set(row, \"material\", $$v)},expression:\"row.material\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"办理的工作时限（工作日）\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('el-input',{staticClass:\"default-textarea\",attrs:{\"type\":\"textarea\",\"placeholder\":\"时限\",\"autosize\":\"\"},model:{value:(row.timeLimit),callback:function ($$v) {_vm.$set(row, \"timeLimit\", $$v)},expression:\"row.timeLimit\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"报建费用（每平方米）\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('el-input-number',{staticStyle:{\"width\":\"100%\"},attrs:{\"controls\":false,\"min\":0},model:{value:(row.cost),callback:function ($$v) {_vm.$set(row, \"cost\", $$v)},expression:\"row.cost\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"备注\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('el-input',{staticClass:\"default-textarea\",attrs:{\"type\":\"textarea\",\"placeholder\":\"备注\",\"autosize\":\"\"},model:{value:(row.remarks),callback:function ($$v) {_vm.$set(row, \"remarks\", $$v)},expression:\"row.remarks\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"操作\",\"width\":\"130\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar row = ref.row;\nvar $index = ref.$index;\nreturn [_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"向上移动\",\"placement\":\"top-start\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-sort-up\"}})],1),_vm._v(\" \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"向下移动\",\"placement\":\"top-start\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-sort-down\"}})],1),_vm._v(\" \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"添加子项\",\"placement\":\"top-start\"}},[(!row.isChild)?_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-plus\"},on:{\"click\":function($event){return _vm.addItem(2, row, $index)}}}):_vm._e()],1),_vm._v(\" \"),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"删除\",\"placement\":\"top-start\"}},[_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deleteItem(row, $index)}}})],1)]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"program-flow__footer clearfix\"},[_c('span',[_vm._v(\"测算本县（市）建设费用：\"),_c('span',{staticClass:\"money-hint\"},[_vm._v(_vm._s(_vm.totalMoney))]),_vm._v(\"元每平方米\")]),_vm._v(\" \"),_c('div',{staticClass:\"pull-right\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.finishSave}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){return _vm.$router.push({path: '/ProgramFlow'})}}},[_vm._v(\"取消\")])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-061c9ee1\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/program_flow/Edit.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-061c9ee1\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"C:\\\\\\\\Users\\\\\\\\lenovo\\\\\\\\AppData\\\\\\\\Roaming\\\\\\\\HBuilder\\\\\\\\userprofiles\\\\\\\\offline\\\\\\\\ganzhoukanban-vue\\\\\\\\src\\\\\\\\assets\\\\\\\\scss\\\\\\\\mixin.scss\\\"}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./Edit.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Edit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Edit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-061c9ee1\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Edit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/program_flow/Edit.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}