webpackJsonp([26],{aMmq:function(t,e){},rr0Y:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l("3cXf"),s=l.n(a),i={data:function(){return{id:sessionStorage.getItem("previewID"),detailId:sessionStorage.getItem("previewDetailID"),showFlag:sessionStorage.getItem("previewFlag"),previewFileUrl:sessionStorage.getItem("previewFileUrl"),showFirst:sessionStorage.getItem("showFirst"),tDataCollect:{},tableHtml:"",tableData:"",num:"960px",tableHeader:"",tableBody:""}},mounted:function(){this.id&&this.initTable(),!this.id&&this.previewFileUrl&&this.initTable2()},methods:{initTable:function(){var t=this;this.$post("/admin/viewDataCollect",{id:this.id,showFirst:this.showFirst}).then(function(e){0==e.resultCode&&(t.tDataCollect=e.content.tDataCollect,t.tableHtml=e.content.excelInfo,t.totalCells=e.content.totalCells,t.num=120*t.totalCells+"px",t.tableHeader=t.tableHtml.header.header,t.tableBody=t.tableHtml.body)})},initTable2:function(){var t=this;this.$post("/admin/viewDataCollectAdmin",{id:this.detailId,fileUrl:this.previewFileUrl,showFirst:this.showFirst}).then(function(e){0==e.resultCode&&(t.tDataCollect=e.content.tDataCollect,t.tableHtml=e.content.excelInfo,t.totalCells=e.content.totalCells,t.num=120*t.totalCells+"px",t.tableHeader=t.tableHtml.header.header,t.tableBody=t.tableHtml.body)})},finishSave:function(){var t=this;this.$post("/admin/saveDataCollectData",{id:this.id,header:s()(this.tableHeader),body:s()(this.tableBody)}).then(function(e){t.$message({showClose:!0,message:"操作成功！",type:"success"}),setTimeout(function(){t.$router.push({path:"/SubmitData"})},300)})}}},n={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("section",{staticClass:"program-flow__add"},[l("el-row",[l("el-col",{attrs:{span:12}},[l("el-form",{attrs:{"label-width":"100px"}},[l("el-form-item",{attrs:{label:"标题："}},[l("span",[t._v(t._s(t.tDataCollect.title))]),t._v(" "),l("span",{staticClass:"hint-info"},[t._v("说明："+t._s(t.tDataCollect.instruction))])])],1)],1),t._v(" "),"true"==t.showFlag?l("el-col",{staticClass:"text-right",attrs:{span:12}},[l("el-button",{attrs:{type:"primary",plain:""},on:{click:t.finishSave}},[t._v("提交")]),t._v(" "),l("el-button",{on:{click:function(e){return t.$router.push({path:"/SubmitData"})}}},[t._v("取消")])],1):t._e(),t._v(" "),"false"==t.showFlag?l("el-col",{staticClass:"text-right",attrs:{span:12}},[l("el-button",{on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")])],1):t._e()],1),t._v(" "),l("div",{staticStyle:{overflow:"auto"},attrs:{id:"div_content"}},[l("table",{staticClass:"table mini",style:{width:t.num}},[l("tr",t._l(t.tableHeader,function(e,a){return l("th",{key:a},[l("span",[t._v(t._s(e.label))])])}),0),t._v(" "),t._l(t.tableBody,function(e,a){return l("tr",{key:a},t._l(e.body,function(e,a){return l("td",{key:a},[1==e.isNumber?l("span",[l("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"仅限数字",onkeyup:"value=value.replace(/[^\\d\\.]/g,'')",onafterpaste:"value=value.replace(/[^\\d\\.]/g,'')",size:"small"},model:{value:e.label,callback:function(l){t.$set(e,"label",l)},expression:"td.label"}})],1):t._e(),t._v(" "),e.isNumber?t._e():l("span",[l("el-input",{attrs:{type:"textarea",autosize:{minRows:1}},model:{value:e.label,callback:function(l){t.$set(e,"label",l)},expression:"td.label"}})],1)])}),0)})],2)])],1)},staticRenderFns:[]};var o=l("C7Lr")(i,n,!1,function(t){l("aMmq")},null,null);e.default=o.exports}});
//# sourceMappingURL=26.87a8a65fc81e6ee998ff.js.map