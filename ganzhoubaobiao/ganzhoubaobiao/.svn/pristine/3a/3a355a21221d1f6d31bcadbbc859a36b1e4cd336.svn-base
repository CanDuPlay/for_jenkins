webpackJsonp([20],{D3aK:function(t,e){},rr0Y:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("3cXf"),i=a.n(l),n={data:function(){return{id:sessionStorage.getItem("previewID"),detailId:sessionStorage.getItem("previewDetailID"),showFlag:sessionStorage.getItem("previewFlag"),previewFileUrl:sessionStorage.getItem("previewFileUrl"),tDataCollect:{},tableHtml:"",tableData:"",num:"3240px",tableHeader:"",tableBody:""}},mounted:function(){this.id&&this.initTable(),this.previewFileUrl&&this.initTable2()},methods:{initTable:function(){var t=this;this.$post("/admin/viewDataCollect",{id:this.id}).then(function(e){0==e.resultCode&&(t.tDataCollect=e.content.tDataCollect,t.num=120*t.totalCells+"px",t.tableHtml=e.content.excelInfo,t.totalCells=e.content.totalCells,t.tableHeader=t.tableHtml.header.header,t.tableBody=t.tableHtml.body)})},initTable2:function(){var t=this;this.$post("/admin/viewDataCollectAdmin",{id:this.detailId,fileUrl:this.previewFileUrl}).then(function(e){0==e.resultCode&&(t.tDataCollect=e.content.tDataCollect,t.num=120*t.totalCells+"px",t.tableHtml=e.content.excelInfo,t.totalCells=e.content.totalCells,t.tableHeader=t.tableHtml.header.header,t.tableBody=t.tableHtml.body)})},finishSave:function(){var t=this;this.$post("/admin/saveDataCollectData",{id:this.id,header:i()(this.tableHeader),body:i()(this.tableBody)}).then(function(e){t.$message({showClose:!0,message:"操作成功！",type:"success"}),setTimeout(function(){t.$router.push({path:"/SubmitData"})},300)})}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"program-flow__add"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"标题："}},[a("span",[t._v(t._s(t.tDataCollect.title))]),t._v(" "),a("span",{staticClass:"hint-info"},[t._v("说明："+t._s(t.tDataCollect.instruction))])])],1)],1),t._v(" "),"true"==t.showFlag?a("el-col",{staticClass:"text-right",attrs:{span:12}},[a("el-button",{attrs:{type:"primary",plain:""},on:{click:t.finishSave}},[t._v("提交")]),t._v(" "),a("el-button",{on:{click:function(e){return t.$router.push({path:"/SubmitData"})}}},[t._v("取消")])],1):t._e(),t._v(" "),"false"==t.showFlag?a("el-col",{staticClass:"text-right",attrs:{span:12}},[a("el-button",{on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")])],1):t._e()],1),t._v(" "),a("div",{staticStyle:{overflow:"auto"},attrs:{id:"div_content"}},[a("table",{staticClass:"table mini",style:{width:t.num}},[a("tr",t._l(t.tableHeader,function(e,l){return a("th",{key:l},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:1}},model:{value:e.label,callback:function(a){t.$set(e,"label",a)},expression:"th.label"}})],1)}),0),t._v(" "),t._l(t.tableBody,function(e,l){return a("tr",{key:l},t._l(e.body,function(e,l){return a("td",{key:l,attrs:{contenteditable:""}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:1}},model:{value:e.label,callback:function(a){t.$set(e,"label",a)},expression:"td.label"}})],1)}),0)})],2)])],1)},staticRenderFns:[]};var o=a("C7Lr")(n,s,!1,function(t){a("D3aK")},null,null);e.default=o.exports}});
//# sourceMappingURL=20.30235824b8be29eae9a4.js.map