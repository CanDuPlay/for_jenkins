{"version":3,"sources":["webpack:///./src/components/county_project/CreateSchool.vue","webpack:///./src/components/county_project/CreateSchool.vue?877a","webpack:///./src/components/county_project/CreateSchool.vue?168b"],"names":["county_project_CreateSchool","data","name","dateValue","startDate","endtDate","form","startYear","endYear","area","newBuild","schoolName","reward","fileStr","projectId","this","$route","params","townId","sessionStorage","getItem","id","schoolId","schoolType","invest","removeFlag","value","dialogImageUrl","dialogVisible","fileList","projectName","startTime","endTime","schoolTypeList","mounted","_this","$nextTick","console","log","initSchoolInfo","initSchoolFile","querySchoolType","computed","fileLists","newArr","forEach","item","index","push","fileName","url","fileUrl","methods","quxiao","$router","temp","$post","pcode","then","m","content","list","unshift","code","save","_this2","stringify_default","resultCode","$message","message","type","school","schoolFile","handleRemove","file","indexOf","splice","handlePictureCardPreview","newhandlesuccess","beforeUpload","isLt512M","size","isRepeat","some","error","components_county_project_CreateSchool","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","gutter","span","_v","_s","placeholder","disabled","model","callback","$$v","expression","label-width","label","maxlength","$set","_l","key","precision","max","controls","staticStyle","width","value-format","action","list-type","file-list","on-success","on-remove","visible","on","update:visible","$event","src","alt","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/21.3793f79c7a07c52459c7.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      name: '',\r\n      dateValue: '',\r\n      startDate: '',\r\n      endtDate: '',\r\n      \r\n      form:{\r\n      \tstartYear:'',\r\n\t      endYear:'',\r\n\t      area:'',\r\n\t      newBuild:'',\r\n\t      schoolName:'',\r\n\t      reward:'',\r\n\t      fileStr:'',\r\n\t      projectId:this.$route.params.projectId,\r\n      \ttownId:sessionStorage.getItem(\"townId\"),\r\n      \tid: this.$route.params.schoolId,\r\n      \tschoolType:'',\r\n      \tinvest:''\r\n      },\r\n      removeFlag: true,\r\n      value: '',\r\n      dialogImageUrl: '',\r\n      dialogVisible: false,\r\n      fileList:[],\r\n      projectName: this.$route.params.projectName,\r\n      startTime: this.$route.params.startTime,\r\n      endTime: this.$route.params.endTime,\r\n      schoolTypeList:[]\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n    \tconsole.log(this.$route.params.schoolId);\r\n    \tif(this.form.id!=null && this.form.id!=''){\r\n    \t\tthis.initSchoolInfo();\r\n    \t\tthis.initSchoolFile();\r\n    \t}\r\n\r\n    \t\tthis.querySchoolType();\r\n    })\r\n  },\r\n  \r\n  computed: {\r\n\t\t\tfileLists() {\r\n//\t\t\t\tconsole.log(this.fileList);\r\n        \t\tlet newArr = [];\r\n        \t\tthis.fileList.forEach((item, index) => {\r\n        \t\t\tnewArr.push({\r\n        \t\t\t\tname: item.fileName,\r\n        \t\t\t\turl: item.fileUrl\r\n        \t\t\t})\r\n        \t\t})\r\n        \t\tconsole.log(newArr);\r\n        \t\treturn newArr;\r\n        \t}\r\n\t\t},\r\n\r\n  methods: {\r\n\t  \tquxiao(){\r\n\t    \tthis.$router.push({name: 'CountyProjectDetail',params:{\"projectId\":this.form.projectId}})\r\n\t    },\r\n\t    querySchoolType(){\r\n\t\t\t\tvar temp = this;\r\n\t\t\t\tthis.$post('/web/queryDic', {\"pcode\":\"101\"}).then(function(m) {\r\n\t\t\t\t\ttemp.schoolTypeList=m.content.list;\r\n\t\t\t\t\ttemp.schoolTypeList.unshift({code: '',name:'全部'});\r\n\t\t\t\t})\r\n\t\t\t},\r\n  \t\tsave(){\r\n  \t\t\tthis.form.fileStr = JSON.stringify(this.fileList);\r\n  \t\t\tif(this.form.schoolName == ''){\r\n  \t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: '学校名称不能为空!'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n  \t\t\t}\r\n  \t\t\tif(this.form.schoolType == ''){\r\n  \t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: '学校类型不能为空!'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n  \t\t\t}\r\n  \t\t\tif(this.form.invest == ''){\r\n  \t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: '计划投资不能为空!'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n  \t\t\t}\r\n  \t\t\tif(this.form.startYear == ''){\r\n  \t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: '开工年份不能为空!'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n  \t\t\t}\r\n  \t\t\tif(this.form.endYear == ''){\r\n  \t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: '竣工年份不能为空!'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n  \t\t\t}\r\n  \t\t\tif(this.form.area == ''){\r\n  \t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: '建筑面积不能为空!'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n  \t\t\t}\r\n  \t\t\tif(this.form.newBuild == ''){\r\n  \t\t\t\tthis.$message({\r\n\t\t\t\t\t\tmessage: '新建学位不能为空!'\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n  \t\t\t}\r\n  \t\t\tthis.$post(\"/web/addSchool\", this.form).then((m) => {\r\n\t\t\t\t\tif(m.resultCode == 0) {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '创建成功!',\r\n\t\t\t\t\t\t\ttype: 'success'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.quxiao();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n  \t\t},\r\n  \t\t\r\n  \t\tinitSchoolInfo(){\r\n\t\t\t\tlet temp = this;\r\n\t\t\t\tthis.$post('/web/queryOneSchool', {\r\n\t\t\t\t\t\"id\":temp.form.id\r\n\t\t\t\t\t}).then((m)=> {\r\n\t\t\t\t\tif(m.resultCode == 0){\r\n\t\t\t\t\t\ttemp.form = m.content.school;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n  \t\tinitSchoolFile(){\r\n\t\t\t\tlet temp = this;\r\n\t\t\t\tthis.$post('/web/queryOneSchoolFile', {\r\n\t\t\t\t\t\"id\":temp.form.id\r\n\t\t\t\t\t}).then((m)=> {\r\n\t\t\t\t\tif(m.resultCode == 0){\r\n\t\t\t\t\t\ttemp.fileList = m.content.schoolFile;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\thandleRemove(file, fileList) {\r\n\t\t\t\tif(this.removeFlag) {\r\n\t\t\t\t\tvar index = this.fileLists.indexOf(file);\r\n\t\t\t\t\tthis.fileLists.splice(index,1);\r\n\t\t\t\t\tthis.fileList.splice(index,1);\r\n\t\t\t\t}\r\n      },\r\n      \r\n      handlePictureCardPreview(file) {\r\n      \tconsole.log('handlePictureCardPreview');\r\n        this.dialogImageUrl = file.url;\r\n        this.dialogVisible = true;\r\n      },\r\n      \r\n      newhandlesuccess(file,fileList){\r\n      \tconsole.log('newhandlesuccess',file);\r\n\t    \tif(file.resultCode == 0){\r\n\t\t\t\t\tthis.fileList.push({\"fileName\":file.content.fileName,\"fileUrl\": file.content.fileUrl});\r\n      \t  console.log('newhandlesuccess',this.fileList);\r\n\t    \t}else if(file.resultCode == 'tolarge'){\r\n\t    \t\tthis.$message('文件大小不能超过50M');\r\n\t    \t\tvar index = this.fileLists.indexOf(file);\r\n\t\t\t\t\tthis.fileLists.splice(index,1);\r\n\t\t\t\t\tthis.fileList.splice(index,1);\r\n\t\t\t\t\treturn;\r\n\t    \t}\r\n\t\t  },\r\n\r\n\t\t  beforeUpload(file) {\r\n        const isLt512M = file.size / 1024 / 1024 < 512;\r\n        const isRepeat = this.fileLists.some( list => list.name === file.name )\r\n\r\n        if (!isLt512M) {\r\n        \tthis.$message.error('上传文件大小不能超过 512MB!');\r\n        }\r\n        this.removeFlag = isLt512M && !isRepeat;\r\n        return isLt512M && !isRepeat;\r\n\t\t\t},\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/county_project/CreateSchool.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"county-project__create-school plate\"},[_c('div',{staticClass:\"pandect plate-top\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{staticClass:\"margin-bottom__medium\",attrs:{\"span\":12}},[_vm._v(\"\\n          \"+_vm._s(_vm.projectName)+\"\\n        \")]),_vm._v(\" \"),_c('el-col',{staticClass:\"clearfix margin-bottom__medium\",attrs:{\"span\":12}},[_c('el-date-picker',{staticClass:\"year-date\",attrs:{\"type\":\"year\",\"placeholder\":\"开工年份\",\"disabled\":\"\"},model:{value:(_vm.startTime),callback:function ($$v) {_vm.startTime=$$v},expression:\"startTime\"}}),_vm._v(\" \"),_c('el-date-picker',{staticClass:\"year-date\",attrs:{\"type\":\"year\",\"placeholder\":\"竣工年份\",\"disabled\":\"\"},model:{value:(_vm.endTime),callback:function ($$v) {_vm.endTime=$$v},expression:\"endTime\"}})],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"plate-top\"},[_c('el-form',{attrs:{\"label-width\":\"70px\"}},[_c('el-row',{attrs:{\"gutter\":15}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"学校名称\"}},[_c('el-input',{attrs:{\"maxlength\":\"50\"},model:{value:(_vm.form.schoolName),callback:function ($$v) {_vm.$set(_vm.form, \"schoolName\", $$v)},expression:\"form.schoolName\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"学校类型\"}},[_c('el-select',{attrs:{\"placeholder\":\"学校类型\"},model:{value:(_vm.form.schoolType),callback:function ($$v) {_vm.$set(_vm.form, \"schoolType\", $$v)},expression:\"form.schoolType\"}},_vm._l((_vm.schoolTypeList),function(item){return _c('el-option',{key:item.code,attrs:{\"label\":item.name,\"value\":item.code}})}),1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"计划投资\"}},[_c('el-input-number',{attrs:{\"precision\":2,\"max\":1000000,\"controls\":false,\"size\":\"large\"},model:{value:(_vm.form.invest),callback:function ($$v) {_vm.$set(_vm.form, \"invest\", $$v)},expression:\"form.invest\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":15}},[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"开工年份\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"year\",\"placeholder\":\"选择年\",\"value-format\":\"yyyy\"},model:{value:(_vm.form.startYear),callback:function ($$v) {_vm.$set(_vm.form, \"startYear\", $$v)},expression:\"form.startYear\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"竣工年份\"}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"year\",\"placeholder\":\"选择年\",\"value-format\":\"yyyy\"},model:{value:(_vm.form.endYear),callback:function ($$v) {_vm.$set(_vm.form, \"endYear\", $$v)},expression:\"form.endYear\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"建筑面积\"}},[_c('el-input-number',{attrs:{\"precision\":2,\"max\":1000000,\"controls\":false,\"size\":\"large\"},model:{value:(_vm.form.area),callback:function ($$v) {_vm.$set(_vm.form, \"area\", $$v)},expression:\"form.area\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"新增学位\"}},[_c('el-input-number',{attrs:{\"precision\":0,\"max\":1000000,\"controls\":false,\"size\":\"large\"},model:{value:(_vm.form.newBuild),callback:function ($$v) {_vm.$set(_vm.form, \"newBuild\", $$v)},expression:\"form.newBuild\"}})],1)],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"plate-bottom has-padding\"},[_c('el-form',{attrs:{\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"重点说明\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"maxlength\":\"100\"},model:{value:(_vm.form.reward),callback:function ($$v) {_vm.$set(_vm.form, \"reward\", $$v)},expression:\"form.reward\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上传资质\"}},[_c('el-upload',{attrs:{\"action\":\"/ganzhoubaobiao/web/uploadFile\",\"list-type\":\"picture-card\",\"file-list\":_vm.fileLists,\"on-success\":_vm.newhandlesuccess,\"on-remove\":_vm.handleRemove}},[_c('i',{staticClass:\"el-icon-plus\"})]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"text-right\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.quxiao}},[_vm._v(\"取消\")])],1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-49e3b720\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/county_project/CreateSchool.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-49e3b720\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!sass-resources-loader?{\\\"resources\\\":\\\"C:\\\\\\\\Users\\\\\\\\lenovo\\\\\\\\AppData\\\\\\\\Roaming\\\\\\\\HBuilder\\\\\\\\userprofiles\\\\\\\\offline\\\\\\\\ganzhoukanban-vue\\\\\\\\src\\\\\\\\assets\\\\\\\\scss\\\\\\\\mixin.scss\\\"}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./CreateSchool.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./CreateSchool.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./CreateSchool.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-49e3b720\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./CreateSchool.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/county_project/CreateSchool.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}